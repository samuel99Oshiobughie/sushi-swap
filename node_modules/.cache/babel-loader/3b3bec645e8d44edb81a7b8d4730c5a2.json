{"ast":null,"code":"export function subscribeToNewBlock(provider, chainId, dispatch, isActive) {\n  if (provider && chainId !== undefined && isActive) {\n    const update = blockNumber => dispatch({\n      chainId,\n      blockNumber\n    });\n\n    provider.on('block', update);\n    provider.getBlockNumber().then(blockNumber => update(blockNumber), err => {\n      console.error(err);\n    });\n    return () => {\n      provider.off('block', update);\n    };\n  }\n\n  return () => undefined;\n}","map":{"version":3,"sources":["../../../../../../src/providers/blockNumber/common/subscribeToNewBlock.ts"],"names":[],"mappings":"AAKA,OAAM,SAAU,mBAAV,CACJ,QADI,EAEJ,OAFI,EAGJ,QAHI,EAIJ,QAJI,EAIa;EAEjB,IAAI,QAAQ,IAAI,OAAO,KAAK,SAAxB,IAAqC,QAAzC,EAAmD;IACjD,MAAM,MAAM,GAAI,WAAD,IAAyB,QAAQ,CAAC;MAAE,OAAF;MAAW;IAAX,CAAD,CAAhD;;IACA,QAAQ,CAAC,EAAT,CAAY,OAAZ,EAAqB,MAArB;IAEA,QAAQ,CAAC,cAAT,GAA0B,IAA1B,CACG,WAAD,IAAiB,MAAM,CAAC,WAAD,CADzB,EAEG,GAAD,IAAQ;MACN,OAAO,CAAC,KAAR,CAAc,GAAd;IACD,CAJH;IAOA,OAAO,MAAK;MACV,QAAQ,CAAC,GAAT,CAAa,OAAb,EAAsB,MAAtB;IACD,CAFD;EAGD;;EAED,OAAO,MAAM,SAAb;AACD","sourceRoot":"","sourcesContent":["export function subscribeToNewBlock(provider, chainId, dispatch, isActive) {\n    if (provider && chainId !== undefined && isActive) {\n        const update = (blockNumber) => dispatch({ chainId, blockNumber });\n        provider.on('block', update);\n        provider.getBlockNumber().then((blockNumber) => update(blockNumber), (err) => {\n            console.error(err);\n        });\n        return () => {\n            provider.off('block', update);\n        };\n    }\n    return () => undefined;\n}\n//# sourceMappingURL=subscribeToNewBlock.js.map"]},"metadata":{},"sourceType":"module"}