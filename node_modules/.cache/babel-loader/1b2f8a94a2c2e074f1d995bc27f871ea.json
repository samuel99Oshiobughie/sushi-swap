{"ast":null,"code":"import { useMemo } from 'react';\nimport { useTransactionsContext } from '../providers';\nimport { useEthers } from './useEthers';\n/**\n * `useTransactions` hook returns a list `transactions`. This list contains\n * all transactions that were sent using {@link useContractFunction} and {@link useSendTransaction}.\n * Transactions are stored in local storage and the status is rechecked on every new block.\n *\n * Each transaction has following type:\n *\n * ```\n * export interface StoredTransaction {\n *   transaction: TransactionResponse\n *   submittedAt: number\n *   receipt?: TransactionReceipt\n *   lastCheckedBlockNumber?: number\n *   transactionName?: string\n *   originalTransaction?: TransactionResponse\n * }\n * ```\n *\n * @see [Transaction Response](https://docs.ethers.io/v5/api/providers/types/#providers-TransactionResponse)\n * @see [Transaction Receipt](https://docs.ethers.io/v5/api/providers/types/#providers-TransactionReceipt)\n * @public\n */\n\nexport function useTransactions() {\n  let queryParams = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  const {\n    chainId: defaultChainId,\n    account\n  } = useEthers();\n  const {\n    addTransaction,\n    transactions\n  } = useTransactionsContext();\n  const {\n    chainId: _chainId\n  } = queryParams;\n  const chainId = useMemo(() => _chainId !== null && _chainId !== void 0 ? _chainId : defaultChainId, [_chainId, defaultChainId]);\n  const filtered = useMemo(() => {\n    var _a;\n\n    if (chainId === undefined || !account) {\n      return [];\n    }\n\n    return ((_a = transactions[chainId]) !== null && _a !== void 0 ? _a : []).filter(x => x.transaction.from === account);\n  }, [transactions, chainId, account]);\n  return {\n    transactions: filtered,\n    addTransaction\n  };\n}","map":{"version":3,"sources":["../../../../src/hooks/useTransactions.ts"],"names":[],"mappings":"AAAA,SAAS,OAAT,QAAwB,OAAxB;AAEA,SAAS,sBAAT,QAAuC,cAAvC;AACA,SAAS,SAAT,QAA0B,aAA1B;AAEA;;;;;;;;;;;;;;;;;;;;;AAqBG;;AACH,OAAM,SAAU,eAAV,GAAuD;EAAA,IAA7B,WAA6B,uEAAF,EAAE;EAC3D,MAAM;IAAE,OAAO,EAAE,cAAX;IAA2B;EAA3B,IAAuC,SAAS,EAAtD;EACA,MAAM;IAAE,cAAF;IAAkB;EAAlB,IAAmC,sBAAsB,EAA/D;EACA,MAAM;IAAE,OAAO,EAAE;EAAX,IAAwB,WAA9B;EAEA,MAAM,OAAO,GAAG,OAAO,CAAC,MAAM,QAAQ,KAAA,IAAR,IAAA,QAAQ,KAAA,KAAA,CAAR,GAAA,QAAA,GAAY,cAAnB,EAAmC,CAAC,QAAD,EAAW,cAAX,CAAnC,CAAvB;EAEA,MAAM,QAAQ,GAAG,OAAO,CAAC,MAAK;;;IAC5B,IAAI,OAAO,KAAK,SAAZ,IAAyB,CAAC,OAA9B,EAAuC;MACrC,OAAO,EAAP;IACD;;IACD,OAAO,CAAC,CAAA,EAAA,GAAA,YAAY,CAAC,OAAD,CAAZ,MAAqB,IAArB,IAAqB,EAAA,KAAA,KAAA,CAArB,GAAqB,EAArB,GAAyB,EAA1B,EAA8B,MAA9B,CAAsC,CAAD,IAAO,CAAC,CAAC,WAAF,CAAc,IAAd,KAAuB,OAAnE,CAAP;EACD,CALuB,EAKrB,CAAC,YAAD,EAAe,OAAf,EAAwB,OAAxB,CALqB,CAAxB;EAOA,OAAO;IACL,YAAY,EAAE,QADT;IAEL;EAFK,CAAP;AAID","sourceRoot":"","sourcesContent":["import { useMemo } from 'react';\nimport { useTransactionsContext } from '../providers';\nimport { useEthers } from './useEthers';\n/**\n * `useTransactions` hook returns a list `transactions`. This list contains\n * all transactions that were sent using {@link useContractFunction} and {@link useSendTransaction}.\n * Transactions are stored in local storage and the status is rechecked on every new block.\n *\n * Each transaction has following type:\n *\n * ```\n * export interface StoredTransaction {\n *   transaction: TransactionResponse\n *   submittedAt: number\n *   receipt?: TransactionReceipt\n *   lastCheckedBlockNumber?: number\n *   transactionName?: string\n *   originalTransaction?: TransactionResponse\n * }\n * ```\n *\n * @see [Transaction Response](https://docs.ethers.io/v5/api/providers/types/#providers-TransactionResponse)\n * @see [Transaction Receipt](https://docs.ethers.io/v5/api/providers/types/#providers-TransactionReceipt)\n * @public\n */\nexport function useTransactions(queryParams = {}) {\n    const { chainId: defaultChainId, account } = useEthers();\n    const { addTransaction, transactions } = useTransactionsContext();\n    const { chainId: _chainId } = queryParams;\n    const chainId = useMemo(() => _chainId !== null && _chainId !== void 0 ? _chainId : defaultChainId, [_chainId, defaultChainId]);\n    const filtered = useMemo(() => {\n        var _a;\n        if (chainId === undefined || !account) {\n            return [];\n        }\n        return ((_a = transactions[chainId]) !== null && _a !== void 0 ? _a : []).filter((x) => x.transaction.from === account);\n    }, [transactions, chainId, account]);\n    return {\n        transactions: filtered,\n        addTransaction,\n    };\n}\n//# sourceMappingURL=useTransactions.js.map"]},"metadata":{},"sourceType":"module"}