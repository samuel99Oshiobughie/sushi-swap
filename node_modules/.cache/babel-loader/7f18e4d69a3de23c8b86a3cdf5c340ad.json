{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport Web3 from 'web3';\nimport { useState, useEffect } from 'react';\nimport { useConfig } from '@usedapp/core';\nimport { ROUTER_ADDRESS } from '../config';\nimport { getFactoryInfo, getRouterInfo } from '../utils';\nexport const loadPools = async providerUrl => {\n  const provider = new Web3.providers.HttpProvider(providerUrl);\n  const web3 = new Web3(provider);\n  const routerInfo = await getRouterInfo(ROUTER_ADDRESS, web3);\n  const factoryInfo = await getFactoryInfo(routerInfo.factory, web3);\n  return factoryInfo.pairsInfo;\n};\nexport const usePools = () => {\n  _s();\n\n  const {\n    readOnlyChainId,\n    readOnlyUrls\n  } = useConfig();\n  const [loading, setLoading] = useState(true);\n  const [pools, setPools] = useState({});\n  useEffect(() => {\n    loadPools(readOnlyUrls[readOnlyChainId]).then(pools => {\n      setPools(pools);\n      setLoading(false);\n    });\n  }, [readOnlyUrls, readOnlyChainId]);\n  return [loading, pools];\n};\n\n_s(usePools, \"/d0TO/9nu6wsTHb6WZVb4alfsQU=\", false, function () {\n  return [useConfig];\n});","map":{"version":3,"names":["Web3","useState","useEffect","useConfig","ROUTER_ADDRESS","getFactoryInfo","getRouterInfo","loadPools","providerUrl","provider","providers","HttpProvider","web3","routerInfo","factoryInfo","factory","pairsInfo","usePools","readOnlyChainId","readOnlyUrls","loading","setLoading","pools","setPools","then"],"sources":["/Users/Cedar/Desktop/builds/unisap2.0/packages/react-app/src/hooks/usePools.js"],"sourcesContent":["import Web3 from 'web3';\nimport { useState, useEffect } from 'react';\nimport { useConfig } from '@usedapp/core';\n\nimport { ROUTER_ADDRESS } from '../config';\nimport { getFactoryInfo, getRouterInfo } from '../utils';\n\n\nexport const loadPools = async (providerUrl) => {\n    const provider = new Web3.providers.HttpProvider(providerUrl);\n    const web3 = new Web3(provider);\n\n    const routerInfo = await getRouterInfo(ROUTER_ADDRESS, web3);\n    const factoryInfo = await getFactoryInfo(routerInfo.factory, web3);\n\n    return factoryInfo.pairsInfo;\n}\n\nexport const usePools = () => {\n    const { readOnlyChainId, readOnlyUrls } = useConfig();\n    const [loading, setLoading] = useState(true);\n    const [pools, setPools] = useState({});\n\n    useEffect(() => {\n        loadPools(readOnlyUrls[readOnlyChainId])\n         .then((pools) => {\n            setPools(pools);\n            setLoading(false);\n         })\n    }, [readOnlyUrls, readOnlyChainId])\n\n    return [loading, pools];\n}"],"mappings":";;AAAA,OAAOA,IAAP,MAAiB,MAAjB;AACA,SAASC,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AACA,SAASC,SAAT,QAA0B,eAA1B;AAEA,SAASC,cAAT,QAA+B,WAA/B;AACA,SAASC,cAAT,EAAyBC,aAAzB,QAA8C,UAA9C;AAGA,OAAO,MAAMC,SAAS,GAAG,MAAOC,WAAP,IAAuB;EAC5C,MAAMC,QAAQ,GAAG,IAAIT,IAAI,CAACU,SAAL,CAAeC,YAAnB,CAAgCH,WAAhC,CAAjB;EACA,MAAMI,IAAI,GAAG,IAAIZ,IAAJ,CAASS,QAAT,CAAb;EAEA,MAAMI,UAAU,GAAG,MAAMP,aAAa,CAACF,cAAD,EAAiBQ,IAAjB,CAAtC;EACA,MAAME,WAAW,GAAG,MAAMT,cAAc,CAACQ,UAAU,CAACE,OAAZ,EAAqBH,IAArB,CAAxC;EAEA,OAAOE,WAAW,CAACE,SAAnB;AACH,CARM;AAUP,OAAO,MAAMC,QAAQ,GAAG,MAAM;EAAA;;EAC1B,MAAM;IAAEC,eAAF;IAAmBC;EAAnB,IAAoChB,SAAS,EAAnD;EACA,MAAM,CAACiB,OAAD,EAAUC,UAAV,IAAwBpB,QAAQ,CAAC,IAAD,CAAtC;EACA,MAAM,CAACqB,KAAD,EAAQC,QAAR,IAAoBtB,QAAQ,CAAC,EAAD,CAAlC;EAEAC,SAAS,CAAC,MAAM;IACZK,SAAS,CAACY,YAAY,CAACD,eAAD,CAAb,CAAT,CACEM,IADF,CACQF,KAAD,IAAW;MACdC,QAAQ,CAACD,KAAD,CAAR;MACAD,UAAU,CAAC,KAAD,CAAV;IACF,CAJF;EAKH,CANQ,EAMN,CAACF,YAAD,EAAeD,eAAf,CANM,CAAT;EAQA,OAAO,CAACE,OAAD,EAAUE,KAAV,CAAP;AACH,CAdM;;GAAML,Q;UACiCd,S"},"metadata":{},"sourceType":"module"}